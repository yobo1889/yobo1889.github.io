<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Metro Transit Clock Replica</title>
  <style>
    body{
      margin:0; padding:0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background:#fff;
      display:flex; justify-content:center; align-items:flex-start;
      min-height:100vh;
      transform: scale(1.1);
    }
    .container{
      width:100%; max-width:420px; padding:20px; box-sizing:border-box;
      padding-top:170px;
    }
    .header{
      font-size:23px; font-weight:600;
    }
    .subheader{
      font-size:18px; color:#444;
    }
    .circle{
      --scale: 1;
      margin:24px auto;
      width:200px; height:200px; border-radius:50%;
      background:#f97316; /* orange */
      display:flex; justify-content:center; align-items:center;
      animation: heartbeat 2.7s infinite ease-in-out;
      transform: scale(var(--scale));
    }
    .circle-inner{
      width:90px; height:90px; border-radius:50%; background:#fff;
      display:flex; justify-content:center; align-items:center;
      font-weight:bold; font-size:24px; color:#2563eb; /* blue */
      /* cancel parent scaling */
      transform: scale(calc(1 / var(--scale)));
    }
    .circle-highlight{
      width:60px; height:60px; border-radius:50%; background:black;
      display:flex; justify-content:center; align-items:center;
      font-weight:bold; font-size:24px; color: black; /* blue */
      /* cancel parent scaling */
      transform: scale(calc(1 / var(--scale)));
      opacity: 0.5;
      animation: heartbeat_2 3s infinite ease-in-out;
    }
    .clock{
      padding: 20px;
      text-align:center;
      font-size:46px; font-weight:700; margin:16px 0;
    }
    .ticket{
      background:#fff; border:1px solid #e5e7eb; border-radius:8px;
      padding:14px; margin-top:16px;
      box-shadow:0 2px 4px rgba(0,0,0,.1);
    }
    .ticket-title{
      font-size:18px; font-weight:500;
    }
    .ticket-sub{
      font-size:14px; color:#555; margin-bottom:8px;
    }
    .ticket-exp{
      font-size:14px; font-weight:500; color:#111;
    }

    @keyframes heartbeat {
      0%   { --scale: 1; }
      10%  { --scale: 0.9; }
      20%  { --scale: 0.8; }
      30%  { --scale: 0.7; }
      40%  { --scale: 0.6; }
      50%  { --scale: 0.5; }
      60%  { --scale: 0.6; }
      70%  { --scale: 0.7; }
      80%  { --scale: 0.8; }
      90%  { --scale: 0.9; }
      100% { --scale: 1; }
    }
     @keyframes heartbeat_2 {
      0%   { --scale: 1; }
      20%  { --scale: 0.8; }
      40%  { --scale: 0.6; }
      60%  { --scale: 0.4; }
      75%  { --scale: 0.6; }
      85%  { --scale: 0.8; }
      100% { --scale: 1; }
    }
  </style>
</head>
<body>
  <div style="position:fixed;top:55px;right:40px;font-size:19px;color:black;">*</div>
  <hr style="border:0; border-top:1px solid lightgrey; margin:0; width:100%;">
  <div class="container">
    <div class="header">Metro Transit</div>
    <div class="subheader">Show operator your ticket</div>

    <div class="circle">
        <div class="circle-inner">
          <img src="go.jpg" height="65" width="65" alt="logo">
        </div>
    </div>

    <div class="clock" id="clock">--:--:--</div>

    <div class="ticket">
      <div class="ticket-title">Adult Non-Rush Hour</div>
      <div class="ticket-sub">Minneapolis/ St. Paul Metro Area</div>
      <div class="ticket-exp" id="exp">Expires â€”</div>
    </div>
  </div>

  <script>
    function pad(n){ return String(n).padStart(2,'0'); }
    function updateClock(){
      const d = currentDate();
      let h = d.getHours();
      let m = d.getMinutes();
      let s = d.getSeconds();
      let ampm = h >= 12 ? 'PM' : 'AM';
      h = h % 12; if(h === 0) h = 12;
      document.getElementById('clock').textContent = `${h}:${pad(m)}:${pad(s)} ${ampm}`;
    }

    // Adjustable date logic
    let customEpochMs = null;
    let appliedAtMs = null;
    function currentDate(){
      const now = Date.now();
      if(customEpochMs!=null && appliedAtMs!=null){
        const delta = now - appliedAtMs;
        return new Date(customEpochMs + delta);
      }
      return new Date();
    }

    function setCustomDate(str){
      const d = new Date(str);
      if(!isNaN(+d)){
        customEpochMs = +d;
        appliedAtMs = Date.now();
      }
    }

    // Example: set expiration date
    function setExpiration(str){
      const d = new Date(str);
      if(!isNaN(+d)){
        document.getElementById('exp').textContent =
          `Expires ${d.toLocaleString(undefined, { month:'short', day:'numeric', year:'numeric', hour:'numeric', minute:'2-digit'})}`;
      }
    }

    // Update clock every second
    updateClock();
    setInterval(updateClock,1000);

    // Example usage (set adjustable expiration)
    setExpiration('2024-12-12T21:03:00');
  </script>
</body>
</html>
